[workspace]
resolver = "3"
members = [
    "ppdrive",
    "libs/services/rest",
    "modules/fs",
    "modules/bookkeeper",
    "shared",
    "service",
    "libs/handlers/rest/client",
    "manager",
]

[workspace.package]
version = "0.1.0-rc.1"

[workspace.dependencies]
serde = "1.0.219"
serde_json = "1.0.140"
bincode = "2.0.1"
tracing = "0.1.41"
tracing-subscriber = "0.3.19"
tracing-appender = "0.2"
axum = "0.7.9"
axum-macros = "0.4.2"
tokio = "1.47.1"
tokio-util = "0.7.16"
uuid = "1.16.0"
clap = "4.5.45"
ppd_shared = { path = "shared" }
ppd_bk = { path = "modules/bookkeeper" }
ppd_fs = { path = "modules/fs" }
ppd-service = { path = "service", default-features = false }
rest_client = { path = "handlers/rest/client" }
libloading = "0.8.8"
rbs = { version = "4.5.51" }
rbatis = { version = "4.5.51" }

[profile.release]
opt-level = "z"
lto = true
codegen-units = 1
strip = "symbols"
panic = "abort"
debug = false
